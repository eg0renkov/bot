# üõ†Ô∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase –¥–ª—è –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ø–∞–º—è—Ç–∏

## –®–∞–≥ 1: –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ Supabase

### 1.1 –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
1. –ü–µ—Ä–µ–π—Ç–∏ –Ω–∞ [supabase.com](https://supabase.com)
2. –ù–∞–∂–∞—Ç—å "Start your project"
3. –í–æ–π—Ç–∏ —á–µ—Ä–µ–∑ GitHub –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –∞–∫–∫–∞—É–Ω—Ç

### 1.2 –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞
1. –ù–∞–∂–∞—Ç—å "New project"
2. –í—ã–±—Ä–∞—Ç—å –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—é (–∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é)
3. –ó–∞–ø–æ–ª–Ω–∏—Ç—å –¥–∞–Ω–Ω—ã–µ:
   - **Name**: `telegram-ai-bot`
   - **Database Password**: –ø—Ä–∏–¥—É–º–∞—Ç—å –Ω–∞–¥–µ–∂–Ω—ã–π –ø–∞—Ä–æ–ª—å
   - **Region**: –≤—ã–±—Ä–∞—Ç—å –±–ª–∏–∂–∞–π—à–∏–π –∫ –≤–∞–º
4. –ù–∞–∂–∞—Ç—å "Create new project"

‚è≥ –ü–æ–¥–æ–∂–¥–∞—Ç—å 2-3 –º–∏–Ω—É—Ç—ã –ø–æ–∫–∞ –ø—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–µ—Ç—Å—è.

### 1.3 –ü–æ–ª—É—á–µ–Ω–∏–µ –∫–ª—é—á–µ–π
–ü–æ—Å–ª–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ–µ–∫—Ç–∞:
1. –ü–µ—Ä–µ–π—Ç–∏ –≤ Settings ‚Üí API
2. –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å:
   - **Project URL** (–Ω–∞–ø—Ä–∏–º–µ—Ä: `https://abcdefgh.supabase.co`)
   - **anon public** –∫–ª—é—á (–¥–ª–∏–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –Ω–∞—á–∏–Ω–∞—é—â–∞—è—Å—è —Å `eyJ...`)

## –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

### 2.1 –í–∫–ª—é—á–µ–Ω–∏–µ pgvector
1. –í Supabase –ø–µ—Ä–µ–π—Ç–∏ –≤ SQL Editor
2. –í—ã–ø–æ–ª–Ω–∏—Ç—å –∫–æ–º–∞–Ω–¥—É:
```sql
-- –í–∫–ª—é—á–∞–µ–º —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ pgvector –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –≤–µ–∫—Ç–æ—Ä–∞–º–∏
CREATE EXTENSION IF NOT EXISTS vector;
```

### 2.2 –°–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü
–í—ã–ø–æ–ª–Ω–∏—Ç—å SQL —Å–∫—Ä–∏–ø—Ç –∏–∑ —Ñ–∞–π–ª–∞ `supabase_vector_setup.sql`:

```sql
-- –ë—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –≤ —Å–ª–µ–¥—É—é—â–µ–º —à–∞–≥–µ
```

## –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π–∫–∞ .env —Ñ–∞–π–ª–∞

–î–æ–±–∞–≤–∏—Ç—å –≤ –≤–∞—à `.env` —Ñ–∞–π–ª:
```env
# –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏...
TELEGRAM_BOT_TOKEN=–≤–∞—à_—Ç–æ–∫–µ–Ω
OPENAI_API_KEY=–≤–∞—à_–∫–ª—é—á

# –ù–æ–≤—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ Supabase
SUPABASE_URL=https://–≤–∞—à-–ø—Ä–æ–µ–∫—Ç.supabase.co
SUPABASE_KEY=–≤–∞—à_anon_–∫–ª—é—á

# –í–∫–ª—é—á–∏—Ç—å –≤–µ–∫—Ç–æ—Ä–Ω—É—é –ø–∞–º—è—Ç—å
VECTOR_MEMORY_ENABLED=true
```

## –®–∞–≥ 4: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:
1. –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å –±–æ—Ç–∞: `python run.py`
2. –í –ª–æ–≥–∞—Ö –Ω–µ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –æ—à–∏–±–æ–∫ Supabase
3. –û—Ç–ø—Ä–∞–≤–∏—Ç—å –±–æ—Ç—É –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–æ–æ–±—â–µ–Ω–∏–π
4. –ë–æ—Ç –Ω–∞—á–Ω–µ—Ç –∑–∞–ø–æ–º–∏–Ω–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç —á–µ—Ä–µ–∑ –≤–µ–∫—Ç–æ—Ä–Ω—É—é –ø–∞–º—è—Ç—å

## üß† –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –≤–µ–∫—Ç–æ—Ä–Ω–æ–π –ø–∞–º—è—Ç–∏

–ü–æ—Å–ª–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –±–æ—Ç —Å–º–æ–∂–µ—Ç:
- üìö **–î–æ–ª–≥–æ—Å—Ä–æ—á–Ω–∞—è –ø–∞–º—è—Ç—å** - –ø–æ–º–Ω–∏—Ç—å —Ä–∞–∑–≥–æ–≤–æ—Ä—ã –Ω–∞ –Ω–µ–¥–µ–ª–∏
- üîç **–°–µ–º–∞–Ω—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–∏—Å–∫** - –Ω–∞—Ö–æ–¥–∏—Ç—å –ø–æ—Ö–æ–∂–∏–µ —Ç–µ–º—ã –∏–∑ –ø—Ä–æ—à–ª–æ–≥–æ
- üéØ **–ö–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã–µ –æ—Ç–≤–µ—Ç—ã** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é
- üìà **–û–±—É—á–µ–Ω–∏–µ** - —Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è —É–º–Ω–µ–µ —Å –∫–∞–∂–¥—ã–º —Ä–∞–∑–≥–æ–≤–æ—Ä–æ–º

## ‚öôÔ∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

### –ö–æ–º–∞–Ω–¥—ã –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–∞–º—è—Ç—å—é:
- `/memory_stats` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–∞–º—è—Ç–∏
- `/clear_memory` - –æ—á–∏—Å—Ç–∏—Ç—å –≤—Å—é –ø–∞–º—è—Ç—å
- `/search_memory <–∑–∞–ø—Ä–æ—Å>` - –ø–æ–∏—Å–∫ –≤ –ø–∞–º—è—Ç–∏

### –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –≤ –∫–æ–¥–µ:
- –†–∞–∑–º–µ—Ä –≤–µ–∫—Ç–æ—Ä–æ–≤: 1536 (OpenAI embeddings)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø–æ—Ö–æ–∂–∏—Ö –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏–π: 5
- –ê–≤—Ç–æ–æ—á–∏—Å—Ç–∫–∞ —Å—Ç–∞—Ä—ã—Ö –¥–∞–Ω–Ω—ã—Ö: 90 –¥–Ω–µ–π